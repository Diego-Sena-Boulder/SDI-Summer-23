%% Clear Vars
clearvars
close all
clc

%% Instrument Connection & Reset Device
myScope = ividev('AgInfiniiVision', 'USB0::0x0957::0x17A6::MY57310896::0::INSTR'); % ResetDevice = true

%% Set Scope Up
sampleLength = 5e3;
maxTime = 1e3;
% Configure horizontal time scale
myScope.Acquisition.HorizontalTimePerRecord = 1e-6; % Seconds
myScope.

%% Gather Data
[waveformArray, actualPoints] = readWaveform(myScope, "Channel1", sampleLength, maxTime);
dt = myScope.Acquisition.HorizontalTimePerRecord/myScope.Acquisition.HorizontalRecordLength;
t = (0:sampleLength-1) * dt;

plot(t, waveformArray)
grid on;
xlabel('Time(s)')
ylabel('Volts (V)')